<%= provide(:title, 'Watch') %>
<div id="mainContent">
  <div class="tabbable">
     <ul id="watchVideos" class="nav nav-pills">
       <!--li class="winnersPill"><a href="#winners" data-toggle="tab"></a></li-->
       <li class="allVideosPill active">
         <a href="#all" data-toggle="tab">
           <span class="count"><%= @videos_count > 0 ? @videos_count : '' %></span>
         </a>
       </li>
       <li class="bestRatedPill">
         <a href="#bestRated" data-toggle="tab"></a>
       </li>
       <li class="mostVotesPill">
         <a href="#mostVotes" data-toggle="tab"></a>
       </li>
       <li class="mostPlaysPill">
         <a href="#mostPlays" data-toggle="tab"></a>
       </li>
       <li class="mostSharesPill">
         <a href="#mostShares" data-toggle="tab"></a>
       </li>
     </ul>
     <div class="tab-content">
       <div class="tab-pane" id="bestRated">
         <% if @rated_videos.size > 0 %>
         <%= render partial: 'shared/video_tile', collection: @rated_videos, as: :f %>
         <div class="clearfix"></div>
         <% else %>
         No videos have been rated yet.<br><br> Once enough videos have been viewed, shared and have received votes during the voting period, ratings will be displayed.
         <% end %>
       </div>
       <div class="tab-pane" id="mostVotes">
         <% if @voted_videos.size > 0 %>
         <%= render partial: 'shared/video_tile', collection: @voted_videos, as: :f %>
         <div class="clearfix"></div>
         <% else %>
         No videos have votes yet.
         <% end %>
       </div>
       <div class="tab-pane" id="mostPlays">
         <% if @played_videos.size > 0 %>
         <%= render partial: 'shared/video_tile', collection: @played_videos.sort! { |a,b| b.plays_count <=> a.plays_count }, as: :f %>
         <div class="clearfix"></div>
         <% else %>
         No videos have been viewed yet.<br><br>
		 All activity from before the start of the voting period has been removed. 
         <% end %>
       </div>
       <div class="tab-pane" id="mostShares">  
         <% if @shared_videos.size > 0 %>
         <%= render partial: 'shared/video_tile', collection: @shared_videos, as: :f %>
         <div class="clearfix"></div>
         <% else %>
         No videos have been shared yet.<br><br>
		 All activity from before the start of the voting period has been removed.
         <% end %>
       </div>
       <div class="tab-pane active" id="all">
         <% if @videos.size > 0 %>
         <%= render partial: 'shared/video_tile', collection: @videos, as: :f %>
         <div class="clearfix"></div>
         <%= will_paginate @videos, param_name: 'all_videos' %>
         <% else %>
         No videos have been approved yet. Create and <%= link_to "upload a video", addvideo_path %> to see it here.
         <% end %>
       </div>
       <div class="tab-pane" id="winners">
         No videos yet.         
       </div>
     </div>
   </div>
</div>
<%= render 'videos/video_modal' %>
<%= render "users/edit_video" %>
<div class="clearfix"></div>